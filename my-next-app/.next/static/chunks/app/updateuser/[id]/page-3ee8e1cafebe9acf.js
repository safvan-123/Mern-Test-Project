(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[81],{347:()=>{},586:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>m});var r=s(5155),t=s(5596),n=s(3464),l=s(5695),c=s(2115),d=s(2809),o=s(1846),i=s(8136),h=s(8964),u=s(902);function m(){let{pages:e,setpages:a,searchTerm:s,setsearchTerm:m}=(0,c.useContext)(t.pagecontext);console.log(e);let{id:x}=(0,l.useParams)(),p=(0,l.useRouter)(),[g,j]=(0,c.useState)({name:"",age:"",email:""}),[A,v]=(0,c.useState)(!0),[f,b]=(0,c.useState)(!1),[N,U]=(0,c.useState)(null);(0,c.useEffect)(()=>{x&&n.A.get("http://localhost:8080/users/".concat(x)).then(e=>{console.log("✅ User Data Fetched:",e.data),j(e.data),v(!1)}).catch(e=>{console.error("\uD83D\uDEA8 Error fetching user:",e),U("Failed to fetch user details."),v(!1)})},[x]);let y=e=>{j({...g,[e.target.name]:e.target.value})};(0,c.useEffect)(()=>{s&&e&&E(s,e)},[s,e]);let C=async a=>{a.preventDefault(),b(!0),U(null);try{let a=await n.A.put("http://localhost:8080/users/".concat(x),g);console.log("✅ User Updated:",a.data),alert("User Updated Successfully!"),p.push("/users?search=".concat(s,"&page=").concat(e))}catch(e){var r,t;console.error("\uD83D\uDEA8 Error updating user:",(null===(t=e.response)||void 0===t?void 0:null===(r=t.data)||void 0===r?void 0:r.message)||e.message),U("Failed to update user.")}finally{b(!1)}},E=(e,a)=>{n.A.get("http://localhost:8080/users",{params:{searchTerm:e,page:a}}).then(e=>{console.log("✅ Fetched Users:",e.data)}).catch(e=>{console.error("\uD83D\uDEA8 Error fetching users:",e)})};return(0,r.jsx)(d.A,{className:"mt-5",children:(0,r.jsx)(o.A,{className:"justify-content-md-center",children:(0,r.jsxs)(i.A,{md:6,children:[(0,r.jsx)("h2",{className:"text-center mb-4",children:"Update User"}),A?(0,r.jsx)("p",{children:"Loading user data..."}):N?(0,r.jsx)("p",{className:"text-danger",children:N}):(0,r.jsxs)(h.A,{onSubmit:C,className:"p-4 border rounded shadow",children:[(0,r.jsxs)(h.A.Group,{className:"mb-3",children:[(0,r.jsx)(h.A.Label,{children:"Name"}),(0,r.jsx)(h.A.Control,{type:"text",placeholder:"Enter name",name:"name",value:g.name,onChange:y,required:!0})]}),(0,r.jsxs)(h.A.Group,{className:"mb-3",children:[(0,r.jsx)(h.A.Label,{children:"Age"}),(0,r.jsx)(h.A.Control,{type:"number",placeholder:"Enter age",name:"age",value:g.age,onChange:y,required:!0})]}),(0,r.jsxs)(h.A.Group,{className:"mb-3",children:[(0,r.jsx)(h.A.Label,{children:"Email"}),(0,r.jsx)(h.A.Control,{type:"email",placeholder:"Enter email",name:"email",value:g.email,onChange:y,required:!0})]}),(0,r.jsx)(u.A,{variant:"warning",type:"submit",className:"w-100",disabled:f,children:f?"Updating...":"Update User"})]})]})})})}},1985:(e,a,s)=>{Promise.resolve().then(s.bind(s,586))},5596:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>j,pagecontext:()=>g});var r=s(5155),t=s(2115),n=s(5613),l=s.n(n),c=s(9588),d=s.n(c);s(347),s(5685);var o=s(6874),i=s.n(o),h=s(2865),u=s(2809),m=s(1728),x=s(902);let p=()=>(0,r.jsx)(h.A,{bg:"primary",variant:"dark",expand:"lg",className:"shadow-lg",children:(0,r.jsxs)(u.A,{children:[(0,r.jsx)(h.A.Brand,{as:i(),href:"/",children:"User Management"}),(0,r.jsx)(h.A.Toggle,{"aria-controls":"navbar-nav"}),(0,r.jsx)(h.A.Collapse,{id:"navbar-nav",children:(0,r.jsxs)(m.A,{className:"ms-auto",children:[(0,r.jsx)(m.A.Link,{as:i(),href:"/",children:"Home"}),(0,r.jsx)(m.A.Link,{as:i(),href:"/users",children:"Users"}),(0,r.jsx)(m.A.Link,{as:i(),href:"/createuser",children:"Create User"}),(0,r.jsx)(m.A.Link,{as:i(),href:"/updateuser",children:"Update User"}),(0,r.jsx)(m.A.Link,{as:i(),href:"/login",children:(0,r.jsx)(x.A,{variant:"light",className:"text-dark px-3 py-1",children:"Login"})})]})})]})}),g=(0,t.createContext)();function j(e){let{children:a}=e,[s,n]=(0,t.useState)(),[c,o]=(0,t.useState)("");return(0,r.jsx)("html",{lang:"en",children:(0,r.jsx)(g.Provider,{value:{pages:s,setpages:n,searchTerm:c,setsearchTerm:o},children:(0,r.jsxs)("body",{className:"".concat(l().variable," ").concat(d().variable," antialiased"),children:[(0,r.jsx)(p,{}),a]})})})}}},e=>{var a=a=>e(e.s=a);e.O(0,[280,740,794,939,349,521,441,684,358],()=>a(1985)),_N_E=e.O()}]);