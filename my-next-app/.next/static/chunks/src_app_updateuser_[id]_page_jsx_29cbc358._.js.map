{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/safvan/Documents/Next%20js%20project/my-next-app/src/app/updateuser/%5Bid%5D/page.jsx"],"sourcesContent":["\"use client\"; // Ensures this is a Client Component in Next.js\n\nimport { pagecontext } from \"@/app/layout\";\nimport axios from \"axios\";\nimport { useParams, useRouter } from \"next/navigation\";\nimport { useState, useEffect, useContext } from \"react\";\nimport { Form, Button, Container, Row, Col } from \"react-bootstrap\";\n\nexport default function EditUserPage() {\n  const { pages, setpages, searchTerm, setsearchTerm } =\n    useContext(pagecontext);\n  console.log(pages);\n\n  const { id } = useParams(); // Get user ID from URL params\n  const router = useRouter(); // For redirection after update\n\n  const [formData, setFormData] = useState({\n    name: \"\",\n    age: \"\",\n    email: \"\",\n  });\n\n  const [loading, setLoading] = useState(true);\n  const [updating, setUpdating] = useState(false);\n  const [error, setError] = useState(null);\n\n  // Fetch user data when the component loads\n  useEffect(() => {\n    if (!id) return;\n\n    axios\n      .get(`http://localhost:8080/users/${id}`)\n      .then((res) => {\n        console.log(\"âœ… User Data Fetched:\", res.data);\n        setFormData(res.data);\n        setLoading(false);\n      })\n      .catch((err) => {\n        console.error(\"ðŸš¨ Error fetching user:\", err);\n        setError(\"Failed to fetch user details.\");\n        setLoading(false);\n      });\n  }, [id]);\n\n  const handleChange = (e) => {\n    setFormData({ ...formData, [e.target.name]: e.target.value });\n  };\n  useEffect(() => {\n    if (searchTerm && pages) {\n      fetchUsers(searchTerm, pages); // Call your fetchUsers function\n    }\n  }, [searchTerm, pages]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setUpdating(true);\n    setError(null);\n\n    try {\n      const res = await axios.put(\n        `http://localhost:8080/users/${id}`,\n        formData\n      );\n      console.log(\"âœ… User Updated:\", res.data);\n      alert(\"User Updated Successfully!\");\n\n      // Redirect to the same filtered and paginated view\n      router.push(`/users?search=${searchTerm}&page=${pages}`);\n    } catch (err) {\n      console.error(\n        \"ðŸš¨ Error updating user:\",\n        err.response?.data?.message || err.message\n      );\n      setError(\"Failed to update user.\");\n    } finally {\n      setUpdating(false);\n    }\n  };\n  const fetchUsers = (searchTerm, page) => {\n    axios\n      .get(`http://localhost:8080/users`, {\n        params: { searchTerm, page },\n      })\n      .then((res) => {\n        console.log(\"âœ… Fetched Users:\", res.data);\n        // Handle the users list here\n      })\n      .catch((err) => {\n        console.error(\"ðŸš¨ Error fetching users:\", err);\n      });\n  };\n  return (\n    <Container className=\"mt-5\">\n      <Row className=\"justify-content-md-center\">\n        <Col md={6}>\n          <h2 className=\"text-center mb-4\">Update User</h2>\n\n          {loading ? (\n            <p>Loading user data...</p>\n          ) : error ? (\n            <p className=\"text-danger\">{error}</p>\n          ) : (\n            <Form onSubmit={handleSubmit} className=\"p-4 border rounded shadow\">\n              <Form.Group className=\"mb-3\">\n                <Form.Label>Name</Form.Label>\n                <Form.Control\n                  type=\"text\"\n                  placeholder=\"Enter name\"\n                  name=\"name\"\n                  value={formData.name}\n                  onChange={handleChange}\n                  required\n                />\n              </Form.Group>\n\n              <Form.Group className=\"mb-3\">\n                <Form.Label>Age</Form.Label>\n                <Form.Control\n                  type=\"number\"\n                  placeholder=\"Enter age\"\n                  name=\"age\"\n                  value={formData.age}\n                  onChange={handleChange}\n                  required\n                />\n              </Form.Group>\n\n              <Form.Group className=\"mb-3\">\n                <Form.Label>Email</Form.Label>\n                <Form.Control\n                  type=\"email\"\n                  placeholder=\"Enter email\"\n                  name=\"email\"\n                  value={formData.email}\n                  onChange={handleChange}\n                  required\n                />\n              </Form.Group>\n\n              <Button\n                variant=\"warning\"\n                type=\"submit\"\n                className=\"w-100\"\n                disabled={updating}\n              >\n                {updating ? \"Updating...\" : \"Update User\"}\n              </Button>\n            </Form>\n          )}\n        </Col>\n      </Row>\n    </Container>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}